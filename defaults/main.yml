---
mysql_version: 5.7

dependences:
  - python-mysqldb

mysql_root_new_pass:
mysql_root_old_pass: ''
mysql_root_user: root

mysqldb_username: user
mysql_user_password:

#
# my.cnf default configs
#
# client configs
mysql_port: 3306
mysql_socket: /var/lib/mysql/mysql.sock
# mysqld configs
# general configs #
mysql_user: mysql
default_storage_engine: InnoDB
pid_file: /var/lib/mysql/mysql.pid
# MyISAM #
key_buffer_size: 32M
myisam_recover_options: ['FORCE', 'BACKUP']
# Safety #
max_allowed_packet: 16M
max_connect_errors: 10000000
sql_mode: [
  STRICT_TRANS_TABLES,
  ERROR_FOR_DIVISION_BY_ZERO,
  NO_AUTO_CREATE_USER,
  NO_AUTO_VALUE_ON_ZERO,
  NO_ENGINE_SUBSTITUTION,
  NO_ZERO_DATE,
  NO_ZERO_IN_DATE,
  ONLY_FULL_GROUP_BY
]
sysdate_is_now: 1
innodb: FORCE
# data storage #
data_dir: /var/lib/mysql
# Binnary logging #
log_bin: /var/lib/mysql_bin
expire_logs_days: 14
sync_binlog: 1
# Cache and Limits #
tmp_table_size: 32m
max_heap_table_size: 32M
query_cache_type: 0
query_cache_size: 0
max_connections: 500
thread_cache_size: 50
open_files_limit: 65535
table_definition_cache: 1024
table_open_cache: 512
# InnoDB #
innodb_flush_method: 0_DIRECT
innodb_log_files_in_group: 2
innodb_log_file_size: 256M
innodb_flush_log_at_trx_commit: 1
innodb_file_per_table: 1
innodb_buffer_pool_size: 12G
# Logging #
log_error: /var/lib/mysql/mysql_error.log
log_queries_not_using_indexes: 1
slow_query_log: 1
slow_query_log_file: /var/lib/mysql/mysql_slow.log
